# Complementary material for the submission 224 to CoRL 2017

> **All the supplemented material is presented anonymously**


> This is the **[version of the document submission](submission/submission_224.pdf)** with high-quality images.

This repository provides: 
* media material of the experiments on real elevation maps and real robots ([media](#media)),
* heightmaps and csv files to generate the training and evaluation datasets ([data](#mata)), 
* and the source code to generate hegithmaps, generate the dataset, defined and trained the CNN network, evaluate the trained network, and visualize the results as traversability maps and 3D renderings ([code](#code))
  * verify the [software requirements](#software-requirements) to test the code

## Media

We provide: 


**a video demonstration of the experiments on the real robot**


**an animation of the traversability maps for the quarry dataset (32 orientations)**


**high-quality images of the evaluation heightmaps (surfaces) and of the experiments on real robots**


## Data

This folder contains the heightmaps (grayscale images) and the csv files with the data from each simulated trajectory


## Code

In this folder we provide:

### simulation

Code for simulating the Pioneer 3AT robot on a heightmap. 

This code can be accessed as a docker image that setups all the needed libraries:

> [link to docker image](link)

Or by copying the `simulation` folder files to an existing ros+gazebo setup.

### heigthmap generation

This folder contains a document explaining in detail the procedural generation of heightmaps and a script that implements such procedure.

### dataset generation

This script takes a csv file and builds a `dataframe` that is used to generate the training/evaluation/real-evaluation dataset.

### training

This script builds the CNN architecture, takes the dataset generated by the previous script and starts the network training (this task may take several hours).

The model generated by this script is saved to be used in future scripts.

> An already trained model file is provided to avoid the training step.

### validation

This scripts calculate evaluation stats for the trained model using the evaluation datasets.

### visualization

This scripts generates (for a given testing heightmap) traversability maps in many orientations. Also, an addition 3D rendering is performed to interactively examine the heightmap and the traversability map.

> A set of already generated traversability maps is provided as sample files to avoid regenerating them.


### Software requirements

In order to use the provided scripts, these are the list of requirements:

  * python 3.5.3
  * numpy 1.12.1
  * matplotlib 2.0.0
  * pandas 0.19.2
  * tensorflow-gpu 1.0
  * keras 2.0.3
  * scikit-learn 0.18.1
  * scikit-image 0.13.0
  * joblib 0.11
  * mayavi
